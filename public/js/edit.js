!function(e){var r={};function t(a){if(r[a])return r[a].exports;var s=r[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,t),s.l=!0,s.exports}t.m=e,t.c=r,t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var s in e)t.d(a,s,function(r){return e[r]}.bind(null,s));return a},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="/",t(t.s=5)}({"01ng":function(e,r){$(document).ready(function(){var e,r;$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),e=$("#lat").val(),r=$("#long").val(),address=$("#address").val(),0==e&&0==r&&(e=20.2961,r=85.8245),mapboxgl.accessToken="pk.eyJ1Ijoic3ByaWhhMSIsImEiOiJjanp4dTByZ28wbHp6M2RvNHdua3g0MWQ1In0.pNLPJ7GyhwFcegQMZhfXJA";var t=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[r,e],zoom:12}),a=((new mapboxgl.Marker).setLngLat([r,e]).addTo(t),new MapboxGeocoder({accessToken:mapboxgl.accessToken,marker:{color:"orange"},mapboxgl:mapboxgl,placeholder:"Search for places",proximity:{longitude:r,latitude:e}}));document.getElementById("geocoder").appendChild(a.onAdd(t)),$(".mapboxgl-ctrl-geocoder--input").val(address),t.on("load",function(){a.on("result",function(a){r=a.result.center[0],e=a.result.center[1],address=a.result.place_name,$("#lat").val(e),$("#long").val(r),$("#address").val(address),t.getSource("single-point").setData(a.result.geometry)})}),$("#registration").submit(function(){event.preventDefault(),$("#spinner").css("display","block"),$.post("/update_profile",$("#registration").serialize(),function(e){$("#spinner").css("display","none");var r=JSON.parse(e);1==r.email?($("#alert").text("Please verify it by clicking the activation link that has been send to your email."),$("#alert").css("display","block")):1==r.success?($("#info").text("Updated successfully"),$("#info").css("display","block")):0==r.email?($("#alert").text("Invalid email format"),$("#alert").css("display","block")):0==r.username?($("#alert").text("Invalid username format"),$("#alert").css("display","block")):0===Object.keys(r).length&&r.constructor===Object?($("#alert").text("You need to fill in atleast one field to update"),$("#alert").css("display","block")):($("#alert").text("Error"),$("#alert").css("display","block"))})}),$("body").click(function(){if("password"===event.target.id&&"registration"===event.target.closest("form").getAttribute("id")){var e="The password :<br> Must be a minimum of 8 characters<br>Must contain at least 1 number<br>Must contain at least one uppercase character<br>Must contain at least one lowercase character";$("#info_password").html(e),$("#info_password").css("display","block")}if("username"===event.target.id&&"registration"===event.target.closest("form").getAttribute("id")){e="The username can contain letters, digits, @ and _";$("#info_username").html(e),$("#info_username").css("display","block")}}),$("input").blur(function(){if("registration"===event.target.closest("form").getAttribute("id"))if("username"===event.target.id){$("#info_username").css("display","none");var e=$("#username").val();$.get("/fetch_info",{q1:"username",q2:e},function(e){1===Number(e)&&($("#username").css("borderColor","red"),$("#alert").text("This username already exists"),$("#alert").css("display","block"))}),""===$("#username").val()?$("#username").css("borderColor","rgba(0,0,0,.125)"):/^([a-zA-Z0-9@_]+)$/.test($("#username").val())?$("#username").css("borderColor","green"):($("#username").css("borderColor","red"),$("#alert").text("Invalid username"),$("#alert").css("display","block"))}else if("password"===event.target.id){$("#info_password").css("display","none");""===$("#password").val()?$("#password").css("borderColor","rgba(0,0,0,.125)"):/^\S*(?=\S{8,})(?=\S*[a-z])(?=\S*[A-Z])(?=\S*[\d])\S*$/.test($("#password").val())?$("#password").css("borderColor","green"):($("#password").css("borderColor","red"),$("#alert").text("Invalid password"),$("#alert").css("display","block"))}else if("email"===event.target.id){var r=$("#email").val();$.get("/fetch_info",{q1:"email",q2:r},function(e){1===Number(e)&&($("#email").css("borderColor","red"),$("#alert").text("This email already exists"),$("#alert").css("display","block"))}),""===$("#email").val()?$("#email").css("borderColor","rgba(0,0,0,.125)"):$("#email").val().indexOf("@")<0||$("#email").val().indexOf(".")<0?($("#email").css("borderColor","red"),$("#alert").text("Invalid email"),$("#alert").css("display","block")):$("#email").css("borderColor","green")}else if("fname"===event.target.id){var t=/^([a-zA-Z]+)$/;""===$("#fname").val()?$("#fname").css("borderColor","rgba(0,0,0,.125)"):t.test($("#fname").val())?$("#fname").css("borderColor","green"):($("#fname").css("borderColor","red"),$("#alert").text("Invalid first name"),$("#alert").css("display","block"))}else if("lname"===event.target.id){t=/^([a-zA-Z]+)$/;""===$("#lname").val()?$("#lname").css("borderColor","rgba(0,0,0,.125)"):t.test($("#lname").val())?$("#lname").css("borderColor","green"):($("#lname").css("borderColor","red"),$("#alert").text("Invalid last name"),$("#alert").css("display","block"))}})})},5:function(e,r,t){e.exports=t("01ng")}});