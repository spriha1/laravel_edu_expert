!function(e){var t={};function s(a){if(t[a])return t[a].exports;var c=t[a]={i:a,l:!1,exports:{}};return e[a].call(c.exports,c,c.exports,s),c.l=!0,c.exports}s.m=e,s.c=t,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)s.d(a,c,function(t){return e[t]}.bind(null,c));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s(s.s=8)}({8:function(e,t,s){e.exports=s("By4z")},By4z:function(e,t){$(document).ready(function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.get("display_class",function(e){for(var t=JSON.parse(e),s=t.length,a=0;a<s;a++){var c=$(".clone").clone(!0).css("display","block").removeClass("clone");c.find(".text").text(t[a].class),c.attr("class_id",t[a].class),c.appendTo(".append_class")}}),$(".add_item").click(function(e){e.preventDefault(),$("#append_teacher").html(""),$(".append_teacher #class").val(""),$(".append_teacher .subject").val(""),$(".append_teacher .subject").select2("destroy").select2(),$(".add_class").css("display","block")}),$(".subject").on("select2:select",function(e){var t=e.params.data,s=t.id,a=t.text;$.post("fetch_teachers",{subject_id:s},function(e){var t=JSON.parse(e),c=$(".editable").clone(!0).css("display","block").removeClass("editable");c.find("label").text(a),c.find("label").attr("for",s),c.find("select").attr("name",s);for(var n=0;n<t.length;n++){var l=$(".editable option").clone(!0);l.attr("value",t[n].id),l.html(t[n].firstname),l.appendTo(c.find("select"))}c.appendTo("#append_teacher")})}),$(".subject").on("select2:unselect",function(e){var t=e.params.data.id;$(".append_teacher label[for="+t+"]").remove(),$(".append_teacher select[name="+t+"]").remove()}),$("#add").click(function(e){e.preventDefault(),$(".add_class").css("display","none"),$.post("add_class",$("#add_class").serialize(),function(e){var t=JSON.parse(e),s=$(".clone").clone(!0).css("display","block").removeClass("clone");s.find(".text").text(t[0].class),s.attr("class_id",t[0].class),s.appendTo(".append_class")})}),$(".remove").click(function(e){var t=$(this).closest("li").attr("class_id");$.post("remove_class",{class_id:t},function(){$("ul li[class_id="+t+"]").remove()})}),$(".edit").click(function(e){var t=$(this).closest("li").attr("class_id");$("._add_class").css("display","none"),$("#edit_subject").css("display","none"),$("#edit_subject select").val(""),$("._add_class").find("form input").val(t),$.post("fetch_class_details",{class:t},function(e){var t=JSON.parse(e),s=t.length;$("#view_subjects").html("");for(var a=0;a<s;a++){var c=$(".subjects_body").clone(!0).css("display","table-row").removeClass("subjects_body");c.find(".subject_name").text(t[a].name),c.find(".teacher").text(t[a].firstname),c.attr("subject_id",t[a].subjectid),c.attr("class_id",t[a].class),c.appendTo("#view_subjects")}})}),$(".remove_subject").click(function(e){var t=$(this).closest("tr").attr("class_id"),s=$(this).closest("tr").attr("subject_id");$.post("remove_class_subject",{class_id:t,subject_id:s},function(){$("table tr[subject_id="+s+"]").remove()})}),$(".add_subject").click(function(e){e.preventDefault(),$("#_append_teacher").html(""),$("._append_teacher ._subject").val(""),$("._append_teacher ._subject").select2("destroy").select2(),$("._add_class").css("display","block")}),$("._subject").on("select2:select",function(e){var t=e.params.data,s=t.id,a=t.text;$.post("fetch_teachers",{subject_id:s},function(e){var t=JSON.parse(e),c=$("._editable").clone(!0).css("display","block").removeClass("_editable");c.find("label").text(a),c.find("label").attr("for",s),c.find("select").attr("name",s);for(var n=0;n<t.length;n++){var l=$("._editable option").clone(!0);l.attr("value",t[n].id),l.html(t[n].firstname),l.appendTo(c.find("select"))}c.appendTo("#_append_teacher")})}),$("._subject").on("select2:unselect",function(e){var t=e.params.data.id;$("._append_teacher label[for="+t+"]").remove(),$("._append_teacher select[name="+t+"]").remove()}),$("#_add").click(function(e){e.preventDefault(),$("._add_class").css("display","none"),$.post("add_class_subject",$("#_add_class").serialize(),function(e){var t=JSON.parse(e),s=$(".subjects_body").clone(!0).css("display","table-row").removeClass("subjects_body");s.find(".subject_name").text(t[0].name),s.find(".teacher").text(t[0].firstname),s.attr("subject_id",t[0].subjectid),s.attr("class_id",t[0].class),s.appendTo("#view_subjects")})}),$(".edit_subject").click(function(){$("#edit_subject").css("display","block");var e=$(this).closest("tr").attr("subject_id"),t=$(this).closest("tr").attr("class_id");$("#edit_subject select").attr("subject_id",e),$("#edit_subject select").attr("class_id",t),$("#edit_subject select").html(""),$.post("fetch_teachers",{subject_id:e},function(e){for(var t=JSON.parse(e),s=0;s<t.length;s++){var a=$("#edit_subject ._clone").clone(!0).removeClass("_clone");a.attr("value",t[s].id),a.html(t[s].firstname),a.appendTo(".teacher_")}})}),$("#edit_subject button").click(function(){$("#edit_subject").css("display","none");var e=$("#edit_subject select").attr("subject_id"),t=$("#edit_subject select").attr("class_id"),s=$("#edit_subject select").val();$.post("update_teacher",{subject_id:e,class_id:t,teacher_id:s},function(t){var s=JSON.parse(t);$(".modal-body tr[subject_id="+e+"] .teacher").text(s[0].firstname)})})})}});